(()=>{"use strict";class a{_formdata;_url;_token;_opcion;_method;constructor(e="",t=1){this._token=e,this._opcion=t,this._method="POST"}setMethod(e){this._method=e}setFormData(e){this._formdata=e}setUrl(e){this._url=e}setOption(e){this._opcion=e,this._formdata.append("opcion",this._opcion)}async fetchDataAsync(){var e=this._token??this._token,t=r(3),e=await(await fetch(this._url,{headers:{Authorization:"Bearer "+e},method:this._method,body:this._formdata??this._formdata})).json();return await t.close(),e}}const r=(e,t=null,a=null)=>{let r="";var i=` 
    <br>
    <div class="lds-spinner" style="height: 13vh;">
        <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
    </div>

    `,o={confirmButtonText:null!==a?a:"aceptar",loaderHtml:i,imageWidth:100,imageHeight:100,html:t,showConfirmButton:!0};switch(e){case 0:o.html="Completa los campos REQUERIDOS.",r=Swal.fire(o);break;case 1:o.html="guardado OK",r=Swal.fire(o);break;case 2:o.html="error de conexion.",r=Swal.fire(o);break;case 3:o.html=i+"<br>procesando...",o.showConfirmButton=!1,r=Swal.fire(o);break;case 4:o.html="solo podes adjuntar un archivo. recargar la web para repetir.",r=Swal.fire(o);break;case 5:o.html="ya existe ese e-mail en BD. o no es un email valido.",r=Swal.fire(o);break;case 6:o.html="ERROR: no estas autenticado.",r=Swal.fire(o);break;case 7:r=Swal.fire(o);break;default:return r}return r};let i="";i="https://nutribarf.ar",i,i,i,i;const o=document.querySelector('input[name="update-pass-input"]');var e=document.querySelector('button[name="update-pass-btn"]');const s=document.querySelector('input[type="hidden"]');e.addEventListener("click",e=>{e.preventDefault();var e=new FormData,t=new a(s.value);e.append("data",JSON.stringify({newPass:o.value})),t.setFormData(e),t.setUrl(i+"/api/update-password"),t.fetchDataAsync().then(e=>{e.errorMessage&&console.log(e.errorMessage),1===e.response?(r(7,"actualizado correctamente.","aceptar"),window.location.href=i+"/api/ingresar"):r(7,"error","aceptar")})})})();